<% include ../partials/header.ejs %>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-3">
				<!-- Profile Card -->
				<div class="jumbotron">
					<div class="profileImageContainer">
						<img src="<%= profile.profileimg %>" class="img-circle">
					</div>
					<div class="profileCardUsernameContainer text-center">
						<h3 class="username">
							<a href="/profile/<%= user.username %>" class="wordwrap">
								<%= user.username %>
							</a>
						</h3>
						<p id="birthday" style="display: none;">
							<%= profile.birthday %>
						</p>
						<p>
							<%= age %>,
								<%= profile.city %>
						</p>
					</div>
					<div class="profileCardTagLine">
						<p>
							<%= profile.bio %>
						</p>
						<p class="profileCardLabel">Interests</p>
						<p>
							<%= profile.interests %>
						</p>
					</div>
				</div>
				<!-- Tab Links -->
				<div class="jumbotron">
					<button class="menuItem tablinks" onclick="openTab(event, 'suggestions')" id="defaultOpen">Suggestions</button>
					<button class="menuItem tablinks" onclick="openTab(event, 'search')">Search</button>
					<button class="menuItem tablinks" onclick="openTab(event, 'matches')">Matches</button>
					<button class="menuItem tablinks" onclick="openTab(event, 'likes')" id="likesTab">Likes</button>
					<button class="menuItem tablinks" onclick="openTab(event, 'views')" id="viewsTab">Views</button>
					<button class="menuItem tablinks" onclick="openTab(event, 'messages')">Messages</button>
				</div>
			</div>
			<div id="suggestions" class="col-md-9 tabcontent">
				<div class="jumbotron">
					<div>
						<h2 class="pull-left">Suggestions</h2>
						<p id="successMessage1" class="pull-right successMessage" hidden>Updated successfully</p>
						<p id="errorMessage1" class="pull-right errorMessage" hidden>Error</p>
						<br>
						<br>
						<br>
						<hr>
					</div>
				</div>
			</div>
			<div id="search" class="col-md-9 tabcontent">
				<div class="jumbotron">
					<form action="/home/search">
						<label for="searchPreference">Search for</label>
						<select name="searchPreference" id="searchPreference">
							<option value="female" <% if (profile.preference=='female' ){ %> selected
								<% } %>>Women</option>
							<option value="male" <% if (profile.preference=='male' ){ %> selected
								<% } %>>Men</option>
							<option value="bi" <% if (profile.preference=='bi' ){ %> selected
								<% } %>>Other</option>
						</select>
						<label for="searchFromAge">Between Age</label>
						<input type="text" id="searchFromAge" class="searchAgeInput" value="18">
						<label for="searchToAge">and</label>
						<input type="text" id="searchToAge" class="searchAgeInput" value="59">
						<label for="searchDistance">Within</label>
						<select name="searchDistance" id="searchDistance">
							<option value="5">5</option>
							<option value="10">10</option>
							<option value="20">20</option>
							<option value="50">50</option>
							<option value="100">100</option>
						</select>
						<label>km's from me</label>
						<br>
						<button class="btn pull-right" type="button" id="searchButton" onclick="search()">Search</button>
					</form>
					<br>
					<br>
				</div>
				<div id="searchResults">

				</div>
			</div>
			<div id="matches" class="col-md-9 tabcontent">
				<div class="jumbotron">
					<div>
						<h2 class="pull-left">Matches</h2>
						<p id="successMessage1" class="pull-right successMessage" hidden>Updated successfully</p>
						<p id="errorMessage1" class="pull-right errorMessage" hidden>Error</p>
						<br>
						<br>
						<br>
						<hr>
					</div>
				</div>
			</div>
			<div id="likes" class="col-md-9 tabcontent">
				<div class="jumbotron">
					<div>
						<h2 class="pull-left">Likes</h2>
						<p id="successMessage1" class="pull-right successMessage" hidden>Updated successfully</p>
						<p id="errorMessage1" class="pull-right errorMessage" hidden>Error</p>
						<br>
						<br>
						<br>
						<hr>
					</div>
				</div>
				<div id="likesResults">

				</div>
			</div>
			<div id="views" class="col-md-9 tabcontent">
				<div class="jumbotron">
					<div>
						<h2 class="pull-left">Views</h2>
						<p id="successMessage1" class="pull-right successMessage" hidden>Updated successfully</p>
						<p id="errorMessage1" class="pull-right errorMessage" hidden>Error</p>
						<br>
						<br>
						<br>
						<hr>
					</div>

				</div>
				<div id="viewResults">

				</div>
			</div>
			<div id="messages" class="col-md-9 tabcontent">
				<div class="jumbotron">
					<div>
						<h2 class="pull-left">Messages</h2>
						<p id="successMessage1" class="pull-right successMessage" hidden>Updated successfully</p>
						<p id="errorMessage1" class="pull-right errorMessage" hidden>Error</p>
						<br>
						<br>
						<br>
						<hr>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="modal"></div>
	<script type="text/javascript" src="/js/openTab.js"></script>
	<!-- Switch Tabs -->
	<script type="text/javascript" src="/js/index.js"></script>
	<!-- Ajax form submit -->
	<script>
		// Get the element with id="defaultOpen" and click on it
		document.getElementById("defaultOpen").click();

		$body = $("body");
		$(document).on({
			ajaxStart: function () { $body.addClass("loading"); },
			ajaxStop: function () { $body.removeClass("loading"); }
		});
	</script>
	<% include ../partials/footer.ejs %>